---
title: "실 서비스 모바일 애플리케이션 보안을 위해 필요한 것들"
description: ""
coverImage: "/assets/no-image.jpg"
date: 2024-08-26 19:49
ogImage: 
  url: /assets/no-image.jpg
tag: Tech
originalTitle: "Securing Mobile Applications Ensuring Safety from Development to End User"
link: "https://medium.com/@radheshyamsingh_83359/securing-mobile-applications-ensuring-safety-from-development-to-end-user-c2cc58c1f9d3"
isUpdated: true
updatedAt: 1724742671166
---


이동 앱 수명주기 전반에 걸쳐 견고한 보안을 보장하는 포괄적인 안내서

# 소개:

오늘날의 연결된 세상에서 이동 앱은 민감한 개인 정보부터 중요한 비즈니스 데이터까지 모든 것을 처리하는 것이 우리의 일상 생활에서 필수 요소가 되었습니다. 이러한 앱들이 기능과 복잡성이 계속 성장함에 따라 그들의 보안을 확보하는 것은 이전보다 더 중요해졌습니다.

개발 초기 단계부터 사용자 장치에 배포될 때까지, 모바일 앱을 안전하게 보호하는 것은 적극적인 접근 방식이 필요한 다면적인 과정입니다. 이 기사에서는 이동 앱 수명주기 각 단계에서 보안을 유지하기 위한 주요 전략과 모범 사례를 탐구합니다. 이러한 조치를 시행함으로써 개발자와 기업은 위험을 완화하고 사용자 데이터를 보호하며, 점점 디지털 환경이 확장되는 상황에서 애플리케이션에 대한 신뢰를 증진시킬 수 있습니다.

<div class="content-ad"></div>

사용자 장치에 배포되기까지 모바일 앱 개발의 주요 4 단계가 있습니다. 이러한 단계에서 다양한 종류의 보안을 강화할 수 있습니다.

- 개발
- 빌드 준비
- 앱 설치 및 실행
- 애플리케이션의 정기적인 사용

## 모바일 애플리케이션 라이프사이클의 각 단계에서의 보안

세부 내용을 자세히 살펴보고 각 단계에서의 보안 조치를 탐색해 봅시다.

<div class="content-ad"></div>

# 개발:

API 키, 암호 키 및 기타 민감한 자격 증명과 같은 키를 안전하게 보호하는 것은 모바일 앱 개발의 중요한 측면입니다. 이러한 키를 잘못 관리하면 애플리케이션이 심각한 보안 위협을 받을 수 있습니다. 로컬 개발, CI/CD 파이프라인 및 프로덕션 환경에서 키를 안전하게 보호하는 방법을 살펴봅시다.

## 1. 로컬 개발

로컬 개발 중 키를 안전하게 보호하는 것은 저장소의 보안을 compromise하지 않으면서 개발자의 컴퓨터에 안전하게 저장하는 것을 포함합니다.

<div class="content-ad"></div>

- 플러터(Flutter): 플러터(Flutter)에서 API 키와 같이 민감한 정보는 .env 파일에 저장해야 합니다. 이 파일에는 환경별 구성이 포함되어 있으며 버전 관리에서 제외해야 합니다. .gitignore에 .env 파일을 추가하여 실수로 GitHub나 다른 저장소에 올라가지 않도록 해주세요.
- 안드로이드(Android): 안드로이드(Android)에서는 local.properties 파일이 SDK 경로와 같은 로컬 머신 구성을 저장하는 데 일반적으로 사용됩니다. 여기에 민감한 키를 저장할 수도 있습니다. .gitignore에 추가하여 이 파일이 버전 관리에서 제외되도록 해주세요. 이를 통해 민감한 정보가 안전하게 보호되며 개발자의 머신에 로컬화됩니다.
- iOS: iOS 개발에서는 debug.xcconfig와 release.xcconfig과 같은 구성 파일을 사용하여 환경별 키를 저장합니다. 이러한 파일은 버전 관리에서 제외되어 민감한 정보가 노출되는 것을 방지해야 합니다. 빌드 환경에 따라 키를 분리함으로써 디버그 및 릴리스 키를 무단 액세스로부터 보호할 수 있습니다.
- NDK를 사용한 암호화된 형태로 키 저장 보안을 강화하기 위해 키를 네이티브(Native) 측의 네이티브 개발 키트(NDK)를 사용하여 암호화된 형태로 저장할 수 있습니다. 이 접근 방식은 APK의 역공학을 통해 키를 추출하는 것을 더 어렵게 만듭니다. 앱 시작 시 암호화된 키를 가져와서 메모리에서 복호화하고, 이후 안전하게 관리하며, 이상적으로는 보호된 메모리 영역에 저장함으로써 안전성을 유지합니다. 강력한 암호화 알고리즘을 사용하고, 복호화된 키가 필요한 시간 동안만 메모리에 보관되도록 해야 합니다. 또한 Android의 Keystore나 iOS의 Keychain과 같은 플랫폼별 안전한 저장소 솔루션을 활용하는 것도 고려해야 합니다.
- 민감한 데이터 저장을 위한 암호화된 데이터베이스 사용 앱 내의 민감한 데이터를 평문으로 저장하면 중대한 보안 위험이 발생할 수 있습니다. 암호화된 데이터베이스를 사용하여 이러한 데이터를 저장하고, 논의된 메커니즘을 사용하여 암호화 키가 안전하게 저장되도록 해주세요. 또한, 암호화 키를 하드코딩하지 않고 런타임 중에만 메모리에 유지되도록만 하는 것도 중요합니다.

## 2. CI/CD (지속적 통합/지속적 배포)

CI/CD 프로세스 중에는 빌드, 테스트 및 배포를 자동화하는 동안 키를 안전하게 관리하는 것이 중요합니다.

- 환경 변수 사용 CI/CD 파이프라인을 구성하여 민감한 정보를 환경 변수를 통해 전달하도록 설정해주세요. 환경 변수는 안전하며 일시적이며, 빌드하는 동안만 존재하고 서버에 저장되지 않습니다. 이를 통해 민감한 데이터가 빌드 중에 하드코딩되거나 실수로 유출되는 것을 방지할 수 있습니다.
- 원격 구성 원격 구성 도구를 사용하면 키와 구성 설정을 중앙 집중식 원격 위치에 유지할 수 있습니다. 이러한 구성은 빌드 중이나 런타임 중에 동적으로 가져올 수 있어 키를 다시 배포하지 않고도 간편하게 업데이트할 수 있습니다. Firebase Remote Config나 기타 클라우드 기반 서비스와 같은 솔루션을 통해 수행됩니다.

<div class="content-ad"></div>

## 3. 생산

생산 단계에서 키를 동적으로 관리하는 것은 변화하는 구성에 적응하고 키 노출 위험을 줄이는 데 도움이 될 수 있습니다.

- 키를 위한 원격 구성 생산 환경에서는 민감한 키 및 기타 구성을 관리하기 위해 원격 구성 시스템을 사용하는 것이 매우 권장됩니다. 키를 원격 시스템에 저장함으로써 새 앱 버전을 릴리스하지 않고도 이를 동적으로 업데이트할 수 있습니다. 이 접근 방식은 특히 키 회전이 필요한 상황이거나 API 키가 노출되어 즉각적으로 대체해야 하는 경우에 유용합니다. 이를 통해 보안 위협에 대해 유연하게 대응하고 앱이 계속 원할하게 작동하도록 할 수 있습니다.
- 또한 이러한 키가 안전한 연결(예: HTTPS)을 통해 가져오도록 하고, 런타임 중 필요한 만큼 메모리에 안전하게 저장되도록 해야 합니다. 키가 앱의 라이프사이클 동안 유효하고 안전하게 유지되도록 적절한 유효성 검증 및 확인을 수행해야 합니다.

# 빌드 준비:

<div class="content-ad"></div>

## 역공학에 대한 안전장치

앱을 빌드할 때 앱을 보호하기 위해 역공학을 방지하는 것이 중요합니다. 이를 위해 널리 사용되는 도구인 ProGuard를 사용하세요.

## 코드를 난독화하기 위해 ProGuard 사용하기:

- ProGuard는 클래스, 메서드 및 필드의 이름을 무의미한 이름으로 변경하여 코드를 난독화합니다. 이렇게 하면 공격자가 앱을 역공학으로 분석하기가 더 어려워집니다. 또한 코드를 축소하고 최적화하여 앱의 크기를 줄이고 성능을 향상시킵니다. 난독화는 완벽하지는 않지만 잠재적인 공격자들에 대한 어려움을 상당히 높입니다.

<div class="content-ad"></div>

## 구현

- proguard-rules.pro 파일에 ProGuard를 포함시키세요:

```js
-keep class com.yourpackage.** { *; }
-keepattributes *Annotation*
-dontwarn org.slf4j.**
```

- 릴리스 빌드에 ProGuard가 활성화되어 있는지 확인하고, 필수 클래스와 속성을 유지할 수 있도록 필요에 따라 규칙을 사용자 정의하세요.

<div class="content-ad"></div>

## ProGuard의 이점

- 코드 난독화: 코드를 읽기 어렵게 만들어 공격자들이 이해하기 어렵도록 합니다.
- 코드 축소: 사용되지 않는 코드를 제거하고 APK/IPA의 크기를 줄여 성능을 향상시킵니다.
- 최적화: 바이트 코드를 최적화하고 실행 시간 성능을 향상시킵니다.

## 추가적 보호 기능

- 민감한 문자열 암호화: ProGuard와 함께 API 키 및 엔드포인트와 같은 민감한 문자열을 암호화하여 보안성을 높일 수 있습니다.
- R8 통합: 안드로이드의 기본 코드 축소기인 R8은 ProGuard보다 효율적인 대안이며, 더 나은 난독화를 위해 고려할 가치가 있습니다.

<div class="content-ad"></div>

# 앱 설치 및 실행:

## 루팅 및 탈옥 감지

보안을 유지하기 위해 필수적으로 루팅되거나 탈옥된 기기에서 앱이 실행되는 것을 감지하고 방지해야 합니다. 이러한 기기는 시스템에 무제한 액세스가 허용되어 보안 위협에 취약해질 수 있기 때문입니다.

- 탈옥된 iOS 기기: 탈옥을 통해 사용자는 애플의 제한을 우회하여 무단 소프트웨어를 설치하거나 시스템 파일을 수정하고 애플이 허용하는 범위를 벗어나 기기를 사용자 정의할 수 있습니다. 이로 인해 탈옥된 기기는 승인되지 않은 코드를 실행할 수 있어 앱을 공격에 노출시킬 수도 있어있습니다. 탈옥을 감지하여 앱이 이러한 위험한 환경에서 실행되지 않도록하면 데이터 침해나 무단 액세스 가능성을 줄일 수 있습니다.
- 루팅된 Android 기기: 안드로이드 기기를 루팅하면 사용자는 관리자 권한을 얻어 특정 권한이 필요한 앱을 설치하고 시스템을 수정할 수 있게 됩니다. 루팅은 성능을 향상시키거나 사용자 정의 펌웨어를 사용할 수 있지만 기기의 보안 무결성을 손상시킵니다. 루팅된 기기를 감지함으로써 앱이 위험에 노출된 시스템에서 실행되지 않도록 하여 악성 소프트웨어에 의한 민감한 데이터 노출이나 변경을 방지할 수 있습니다.

<div class="content-ad"></div>

# 애플리케이션의 정기 사용:

## 모바일 애플리케이션에서 네트워크 상의 데이터 안전 보호

네트워크를 통해 전송되는 데이터를 안전하게 보호하는 것은 사용자 정보를 보호하고 모바일 애플리케이션과 서버 간 통신의 무결성을 보장하는 데 중요합니다. 아래는 따를 가장 좋은 방법에 대한 몇 가지 권장 사항입니다:

## 1. HTTPS 사용

<div class="content-ad"></div>

모든 앱-서버 통신이 HTTPS (Hypertext Transfer Protocol Secure)를 사용하도록하십시오. 이는 데이터를 TLS (Transport Layer Security)를 사용하여 암호화하여 미인가된 액세스를 방지합니다. 모바일 앱에서 HTTPS 전용 통신을 강제로 적용하려면 다음을 사용하십시오:

- 인증서 핀닝 (Certificate Pinning): 앱이 특정 인증서 또는 공개 키를 신뢰하도록하며 중간자 공격을 완화합니다.
- 서버 측 구성: 서버 수준에서 HTTP 요청을 거부하여 HTTPS 전용 통신을 강제로 적용하십시오.

## 2. 인증서 핀닝

SSL/TLS 인증서 핀닝을 구현하여 중간자 공격으로부터 앱을 보호하십시오. 핀닝을 통해 앱은 사전 정의된 SSL 인증서 또는 공개 키가 있는 서버와만 통신하도록 보장됩니다.

<div class="content-ad"></div>

플러터에서 인증서 핀닝을 구현하는 단계:

- 신뢰할 수 있는 SSL 인증서 또는 공개 키 식별: 서버 또는 서버 관리자로부터 필요한 SSL 인증서 또는 공개 키를 획득합니다.
- 앱에 인증서/공개 키 임베드: 신뢰할 수 있는 인증서 또는 공개 키를 플러터 앱에 저장합니다. 이는 raw 또는 인코딩된 형태로 저장됩니다.
- 인증서 유효성 검사 로직 구현: HTTPS 연결 중에 서버의 SSL 인증서를 내장된 인증서 또는 공개 키와 비교하여 유효성을 검사합니다.

## 3. API 보안

모든 API 요청이 인증되었고 암호화되었음을 확인하십시오.

<div class="content-ad"></div>

- 토큰 기반 인증: JWT (JSON Web Tokens)와 같은 토큰 기반 인증 방법을 사용하여 사용자의 신원을 확인하세요. 토큰은 만료 시간을 가지고 있어야 하며, 리프레시 토큰과 같은 메커니즘을 사용하여 안전하게 새로 고칠 수 있어야 합니다.
- 민감한 데이터 암호화: 네트워크를 통해 데이터를 전송하기 전과 로컬 저장시에 민감한 데이터를 암호화하는 강력한 암호화 알고리즘인 AES (Advanced Encryption Standard)를 활용하세요.

## 4. 민감한 데이터 암호화

전송 중과 안정 중에 민감한 데이터를 암호화하세요:

- 전송 중 데이터 암호화: 모든 통신에 HTTPS를 사용하여 네트워크를 통해 데이터를 전송하는 동안 데이터를 보호하세요.
- 안정 중 데이터 암호화: 암호화 키와 같은 민감한 데이터를 Keychain (iOS)이나 Keystore (Android)와 같은 메커니즘을 사용하여 안전하게 저장하세요.
- 키 관리: 암호화 키가 적절히 관리되고 노출을 방지하여 데이터 보안을 유지하도록 보호하세요.

<div class="content-ad"></div>

## 5. 강력한 인증 사용하기

앱에 인가된 사용자만이 접속할 수 있도록 강력한 사용자 인증 메커니즘을 구현하세요:

- 이중 인증 (2FA): SMS, 이메일 또는 앱 기반의 인증자를 활용한 2FA 통합을 고려해보세요.
- 생체 인식: 지문, 얼굴 인식 등의 생체 인증 방법을 지원하세요.
- 후속 조치 메커니즘: 사용자가 2FA 또는 생체 인식 기능에 접근할 수 없는 경우를 대비해 PIN 또는 비밀번호와 같은 대체 옵션을 구현하세요.

## 6. 데이터 노출 최소화하기

<div class="content-ad"></div>

아래 가이드라인을 따라 민감한 정보 노출 위험을 줄여보세요:

- 필요한 데이터만 전송: 작업에 필요한 데이터만 전송하고 불필요한 정보는 포함시키지 않도록 합니다.
- 안전한 코딩 관행: 민감한 데이터가 과도한 로그나 오류 메시지를 통해 노출되지 않도록 안전한 코딩 관행을 적용합니다.
- API 디자인: 필요한 데이터만 노출하고 그 외 정보는 노출되지 않도록 API를 디자인하여 민감한 정보 노출을 최소화합니다.

## 7. 안전한 웹소켓

실시간 통신에 웹소켓을 사용하는 경우, HTTPS 위에서 작동하는 WSS(웹소켓 보안)를 사용하여 소켓을 안전하게 유지하세요.

<div class="content-ad"></div>

- 인증(Authentication): 웹소켓 연결을 인가된 사용자만 연결할 수 있도록 인증합니다.
- 연결 관리(Connection Management): 사용되지 않는 또는 비활성화된 연결로부터 노출 위험을 최소화하기 위해 유휴 연결 시간 제한을 구현합니다.
- 입력 유효성 검사 및 살균화(Input Validation and Sanitization): 웹소켓 연결의 보안을 compromise할 수 있는 삽입 공격을 방지하기 위해 항상 입력 데이터를 유효성 검사 및 살균화합니다.

## 8. 보안 예외 처리하기

보안과 관련된 예외 상황을 적절히 처리하는 것이 중요합니다:

- 오류 처리(Error Handling): 보안 예외 사례(예: SSL/TLS 핸드쉐이크 실패)에 대한 견고한 오류 처리를 구현하여 공격자에게 스택 트레이스와 같은 민감한 정보가 노출되지 않도록 합니다.
- 사용자 알림(User Notifications): 네트워크 요청이 보안 문제(예: SSL/TLS 오류)로 인해 실패할 때 기술적인 세부 정보를 공개하지 않고 사용자에게 정중하게 알립니다.

<div class="content-ad"></div>

## 배경 스냅샷 제어 스냅샷:

모바일 애플리케이션을 무단 스크린샷으로부터 보호하고 민감한 정보가 노출되는 것을 방지하기 위해서는 배경 스냅샷을 비활성화하는 것이 중요합니다. 다음 전략을 고려해보세요:

- 배경에서 정보 보호: 민감한 데이터를 가려서 배경 스냅샷에 캡처되지 않도록 하여, 무단자에게 노출되지 않도록 보장합니다.
- 스크린샷 기능 비활성화: 앱 내에서 스크린샷 촬영 능력을 제한하거나 비활성화하는 조치를 취하여 사용자 정보의 보안과 개인 정보 보호를 강화합니다.

## 앱 재개 시 재인증:


<div class="content-ad"></div>

- 앱이 백그라운드로부터 재개될 때 지문 또는 비밀번호로 다시 인증하여 사용자의 신원을 확인하세요. 이렇게 함으로써 앱이 백그라운드에서 실행 중일 때 무단 접근을 방지할 수 있습니다.

이 설명이 앱 보안에 대한 이해를 돕기를 바랍니다, 개발부터 정기 사용까지. 다른 주제에 대해 더 많이 쓰기를 기대하겠습니다. 👏 적어도 하나의 것을 배웠다면 박수를 👏 부탁드리며, 내용에 어울리는 공유는 고맙게 생각합니다. 피드백, 댓글 또는 토론을 자유롭게 제공해주세요.

# 제 정보

LinkedIn: www.linkedin.com/in/radheshyam-singh-9a2747a9

<div class="content-ad"></div>

행복한 코딩하세요!