---
title: "Spring Bootλ¥Ό μ‚¬μ©ν•μ—¬ μ½”λ“λ¥Ό λ” κΉ”λ”ν•κ² λ§λ“λ” μ‚¬μ©μ μ •μ μ–΄λ…Έν…μ΄μ… μƒμ„± λ°©λ²•"
description: ""
coverImage: "/assets/img/2024-08-21-HowtoCreateCustomAnnotationsinSpringBootforCleanerCode_0.png"
date: 2024-08-21 17:45
ogImage: 
  url: /assets/img/2024-08-21-HowtoCreateCustomAnnotationsinSpringBootforCleanerCode_0.png
tag: Tech
originalTitle: "How to Create Custom Annotations in Spring Boot for Cleaner Code"
link: "https://medium.com/@mahesh.babu11/how-to-create-custom-annotations-in-spring-boot-for-cleaner-code-5067f969d5ba"
isUpdated: false
---


<img src="/assets/img/2024-08-21-HowtoCreateCustomAnnotationsinSpringBootforCleanerCode_0.png" />

μ•λ…•ν•μ„Έμ”! μ΄λ―Έ μ—¬λ¬λ¶„ μ¤‘μ—λ” κ°™μ€ μ½”λ“ μ¤„μ„ λ°λ³µν•΄μ„ μ‘μ„±ν•λ” λ° κ°‡ν μ μ΄ μμΌλ©°, μ΄ ν”„λ΅μ„Έμ¤λ¥Ό κ°„μ†ν™”ν•  λ°©λ²•μ΄ μμ—μΌλ©΄ ν•λ” λ°”λμ„ ν’μ€ μ μ΄ μμ„ κ²ƒμ…λ‹λ‹¤. Spring Bootμ„ μ‚¬μ©ν•κ³  κ³„μ‹λ‹¤λ©΄, μ£Όμ„μ΄ μ½”λ“λ¥Ό λ” κΉ¨λ—ν•κ³  ν¨μ¨μ μΌλ΅ λ§λ“λ” λ° μ–Όλ§λ‚ κ°•λ ¥ν•μ§€ μ μ•„μ‹¤ κ²λ‹λ‹¤. κ·Έλ¬λ‚ κΈ°μ΅΄ μ£Όμ„μ΄ λ‹Ήμ‹ μ μ”κµ¬μ— μ™„μ „ν λ¶€ν•©ν•μ§€ μ•μ„ λ•λ” μ–΄λ–»κ² ν•΄μ•Ό ν• κΉμ”?

κ·Έκ³³μ—μ„ μ‚¬μ©μ μ •μ μ£Όμ„μ΄ λ“±μ¥ν•©λ‹λ‹¤. λ°λ³µμ μΈ μ½”λ“ ν¨ν„΄μ„ μΊ΅μν™”ν•λ” μμ‹ λ§μ μ£Όμ„μ„ λ§λ“¤ μ μλ‹¤λ©΄ μ–΄λ–¨κΉμ”? μ΄λ ‡κ² ν•λ©΄ λ‹Ήμ‹ μ μ½”λ“λ” λ” κΉ¨λ—ν•  λΏ μ•„λ‹λΌ μ μ§€ν•λ” κ²ƒλ„ λ” μ‰¬μ›μ§‘λ‹λ‹¤. μ΄ κΈ°μ‚¬μ—μ„λ” Spring Bootμ—μ„ μ‚¬μ©μ μ •μ μ£Όμ„μ„ μ–΄λ–»κ² λ§λ“¤μ–΄ κ°λ° κ³Όμ •μ„ κ°„μ†ν™”ν•κ³  μ¤‘λ³µ μ½”λ“μ λ¨Έλ¦¬μ•„ν””μ„ ν”Όν•  μ μλ”μ§€ μ‚΄ν΄λ³Ό κ²ƒμ…λ‹λ‹¤. μµμƒμ κ΄€ν–‰μ„ μ‹ν–‰ν•κ³  μ‚¬μ©μ μ§€μ • μ ν¨μ„± κ²€μ‚¬λ¥Ό μ¶”κ°€ν•κ±°λ‚ λ΅μ§μ„ λ‹¨μν™”ν•λ ¤λ©΄ μ‚¬μ©μ μ •μ μ£Όμ„μ΄ ν•„μ”ν•  μ μμµλ‹λ‹¤. μ΄μ  μ½”λ“κ°€ λ” λ‘λ‘ν•κ² λ™μ‘ν•λ„λ΅ λ§λ“¤κΈ° μ„ν•΄ λ›°μ–΄λ“¤μ–΄ μ‹μ‘ν•΄ λ΄…μ‹λ‹¤!

μλ¥Ό ν•λ‚ κ³µμ ν•κ² μµλ‹λ‹¤: μ κ°€ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ°μƒν•λ” λ¨λ“  μ¤λ¥λ¥Ό μ¤λ¥ λ΅κ·Έ ν…μ΄λΈ”μ— κΈ°λ΅ν•΄μ•Ό ν•λ” μƒν™©μ— μ§λ©΄ν–μµλ‹λ‹¤. ν•„μ”ν• λ¨λ“  λ©”μ„λ“μ— κ°™μ€ λ΅κΉ… μ½”λ“λ¥Ό λ°λ³µμ μΌλ΅ μ¶”κ°€ν•λ” κ²ƒμ΄ μ§€μΉκΈ° μ‹μ‘ν–μµλ‹λ‹¤. μ‚¬μ©μ μ •μ μ£Όμ„μ„ μ‚¬μ©ν•μ—¬ μ΄ λ¬Έμ λ¥Ό μ–΄λ–»κ² ν•΄κ²°ν–λ”μ§€ λ³΄μ—¬λ“λ¦¬κ² μµλ‹λ‹¤.

<div class="content-ad"></div>

μ΄ μ‚¬μ©μ μ •μ μ£Όμ„μ μ•„μ΄λ””μ–΄λ” λ©”μ†λ“μ—μ„ λ°λ³µμ μΈ μ¤λ¥ μ²λ¦¬ μ½”λ“κ°€ ν•„μ” μ—†λ„λ΅ ν•λ” κ²ƒμ…λ‹λ‹¤. κ° λ©”μ†λ“λ¥Ό try-catch λΈ”λ΅μΌλ΅ μλ™μΌλ΅ κ°μ‹Έμ„ μμ™Έλ¥Ό λ΅κ·Έλ΅ κΈ°λ΅ν•λ” λ€μ‹ , μ‚¬μ©μ μ •μ μ£Όμ„μ„ κ°„λ‹¨ν μ¶”κ°€ν•  μ μμµλ‹λ‹¤. μ΄ μ£Όμ„μ€ λ©”μ†λ“ λ‚΄μ—μ„ λ°μƒν•λ” λ¨λ“  μ¤λ¥λ¥Ό μλ™μΌλ΅ λ΅κ·Έλ΅ κΈ°λ΅ν•΄μ•Ό ν•λ‹¤λ” μ‹ νΈ μ—­ν• μ„ ν•©λ‹λ‹¤. λ‚΄λ¶€μ μΌλ΅, μ΄ μ£Όμ„μ€ Springμ κ΄€μ  μ§€ν–¥ ν”„λ΅κ·Έλλ° (AOP) λ¥λ ¥μ„ ν™μ©ν•μ—¬ λ©”μ†λ“ νΈμ¶μ„ κ°€λ΅μ±„μ„ μμ™Έλ¥Ό μ²λ¦¬ν•κ³  λ―Έλ¦¬ μ •μλ ν•μ‹μ— λ”°λΌ λ΅κ·Έλ¥Ό λ‚¨κΈ°κ² λ©λ‹λ‹¤.

μ΄ μ ‘κ·Ό λ°©μ‹μ€ λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“λ¥Ό μ¤„μ΄λ” κ²ƒλΏλ§ μ•„λ‹λΌ μ „μ²΄ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ¤λ¥ μ²λ¦¬μ™€ λ΅κΉ…μ΄ μ–΄λ–»κ² λ‹¤λ£¨μ–΄μ§€λ”μ§€μ— μΌκ΄€μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤. μ£Όμ„ λ‚΄λ¶€μ— μ¤λ¥ μ²λ¦¬ λ΅μ§μ„ μ§‘μ¤‘μ‹ν‚΄μΌλ΅μ¨ κ°λ³„ λ©”μ†λ“λ¥Ό κ±΄λ“λ¦¬μ§€ μ•κ³  λ΅κΉ… μ „λµμ„ μ‰½κ² κ΄€λ¦¬ν•κ³  μ—…λ°μ΄νΈν•  μ μμµλ‹λ‹¤. μ½”λ“λ² μ΄μ¤λ¥Ό κΉ”λ”ν•κ³  μ μ§€ λ³΄μ κ°€λ¥ν•λ©° μ¤‘λ³µμ μΈ μ¤λ¥ μ²λ¦¬ μ½”λ“ μ—†μ΄ μ μ§€ν•  μ μλ” κ°•λ ¥ν• λ°©λ²•μ…λ‹λ‹¤.

μ‹μ‘ν•΄λ³΄μ£ !

κΈ°μ΅΄ ν”„λ΅μ νΈμ— ν†µν•©ν•κ³  μλ‹¤κ³  κ°€μ •ν•©λ‹λ‹¤. κ·Έλ ‡μ§€ μ•μ€ κ²½μ° spring.ioλ΅ μ΄λ™ν•μ—¬ μƒλ΅μ΄ Spring Boot ν”„λ΅μ νΈλ¥Ό λ§λ“¤ μ μμµλ‹λ‹¤.

<div class="content-ad"></div>

# λ‹¨κ³„ 1: ν”„λ΅μ νΈμ— Spring AOP μΆ…μ†μ„± μ¶”κ°€ν•κΈ°

μµμ‹  μΆ…μ†μ„±μ„ μ°ΎμΌλ ¤λ©΄ Maven μ €μ¥μ†λ¥Ό λ°©λ¬Έν•κ±°λ‚ μ•„λ μ κ³µλ κ²ƒμ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤:

```js
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-aop</artifactId>
    <version>6.1.12</version>
</dependency>
```

# λ‹¨κ³„ 2: μ‚¬μ©μ μ •μ μ£Όμ„ λ§λ“¤κΈ°

<div class="content-ad"></div>

μ‚¬μ©μ μ •μ μ–΄λ…Έν…μ΄μ…μ„ μ •μν•μ—¬ μ—λ¬ μ²λ¦¬λ¥Ό μ„ν•΄ λ©”μ„λ“λ¥Ό ν‘μ‹ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. λ‹¤μκ³Ό κ°™μ΄ ErrorHandler μ–΄λ…Έν…μ΄μ…μ„ μ‘μ„±ν•  μ μμµλ‹λ‹¤:

```java
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface ErrorHandler {
}
```

μ‚¬μ©μ μ •μ μ–΄λ…Έν…μ΄μ…μ„ λ§λ“λ” μ²« λ²μ§Έ λ‹¨κ³„λ” @interface ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ„ μ–Έν•λ” κ²ƒμ…λ‹λ‹¤. μ΄ κ²½μ° ErrorHandlerλ΅ μ„ μ–Έν•©λ‹λ‹¤. λ‹¤μ λ‹¨κ³„λ” μ½”λ“μ— λ€ν• λ©”νƒ€λ°μ΄ν„°λ¥Ό μ κ³µν•λ” κ²ƒμΈλ°, @Retentionκ³Ό @Targetμ€ μ΄λ¬ν• μ–΄λ…Έν…μ΄μ…μ΄ μ–΄λ–»κ² μ‚¬μ©λκ³  μ–΄λ””μ— μ‚¬μ©λ  μ μλ”μ§€λ¥Ό μ •μν•λ” λ‘ κ°€μ§€ μ¤‘μ”ν• μ”μ†μ…λ‹λ‹¤.

# @Retention

<div class="content-ad"></div>

@Retention μ–΄λ…Έν…μ΄μ…μ€ μ–΄λ…Έν…μ΄μ…μ΄ μ μ§€λλ” κΈ°κ°„μ„ μ§€μ •ν•©λ‹λ‹¤:

- RetentionPolicy.SOURCE: μ–΄λ…Έν…μ΄μ…μ€ μ†μ¤ μ½”λ“μ—μ„λ§ μ μ§€λλ©° μ»΄νμΌλ¬κ°€ μ»΄νμΌν•λ” λ™μ• νκΈ°λ©λ‹λ‹¤. μ»΄νμΌλ .class νμΌμ— ν¬ν•¨λμ§€ μ•μΌλ©° λ°νƒ€μ„μ—μ„ μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤.
- RetentionPolicy.CLASS: μ–΄λ…Έν…μ΄μ…μ€ μ»΄νμΌλ .class νμΌμ— μ μ§€λμ§€λ§ λ°νƒ€μ„μ—μ„ μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤. @Retentionμ„ μ§€μ •ν•μ§€ μ•μ„ κ²½μ° κΈ°λ³Έ λ™μ‘μ…λ‹λ‹¤.
- RetentionPolicy.RUNTIME: μ–΄λ…Έν…μ΄μ…μ€ μ»΄νμΌλ .class νμΌμ— μ μ§€λκ³  λ¦¬ν”λ ‰μ…μ„ ν†µν•΄ λ°νƒ€μ„μ—μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ΄λ΅μ¨ λ°νƒ€μ„μ—μ„ ν”„λ μ„μ›ν¬μ™€ λΌμ΄λΈλ¬λ¦¬κ°€ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

μ°λ¦¬μ ErrorHandler μ–΄λ…Έν…μ΄μ…μ—μ„ @Retention(RetentionPolicy.RUNTIME)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ΄λ” μ–΄λ…Έν…μ΄μ…μ΄ λ°νƒ€μ„μ— μ‚¬μ© κ°€λ¥ν•λ©°, μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ¤‘μ— μ–΄λ…Έν…μ΄μ…μ„ κ²€μ‚¬ν•΄μ•Ό ν•λ” ν”„λ μ„μ›ν¬λ‚ μ‚¬μ©μ μ •μ λ΅μ§μ— ν•„μ”ν•©λ‹λ‹¤.

# @Target

<div class="content-ad"></div>

@Target μ–΄λ…Έν…μ΄μ…μ€ μ–΄λ…Έν…μ΄μ…μ΄ μ μ©λ  μ μλ” μ”μ†μ μΆ…λ¥λ¥Ό μ§€μ •ν•©λ‹λ‹¤:

- ElementType.TYPE: μ–΄λ…Έν…μ΄μ…μ„ ν΄λμ¤, μΈν„°νμ΄μ¤ λλ” enumμ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.FIELD: μ–΄λ…Έν…μ΄μ…μ„ ν•„λ“(λ³€μ)μ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.METHOD: μ–΄λ…Έν…μ΄μ…μ„ λ©”μ„λ“μ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.PARAMETER: μ–΄λ…Έν…μ΄μ…μ„ λ©”μ„λ“ λ§¤κ°λ³€μμ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.CONSTRUCTOR: μ–΄λ…Έν…μ΄μ…μ„ μƒμ„±μμ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.LOCAL_VARIABLE: μ–΄λ…Έν…μ΄μ…μ„ μ§€μ—­ λ³€μμ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.ANNOTATION_TYPE: μ–΄λ…Έν…μ΄μ…μ„ λ‹¤λ¥Έ μ–΄λ…Έν…μ΄μ…μ— μ μ©ν•  μ μμµλ‹λ‹¤.
- ElementType.PACKAGE: μ–΄λ…Έν…μ΄μ…μ„ ν¨ν‚¤μ§€ μ„ μ–Έμ— μ μ©ν•  μ μμµλ‹λ‹¤.

ErrorHandler μ–΄λ…Έν…μ΄μ…μ κ²½μ°, @Target(ElementType.METHOD)λ” μ–΄λ…Έν…μ΄μ…μ΄ λ©”μ„λ“μ—λ§ μ μ©λ  μ μλ‹¤κ³  μ§€μ •ν•©λ‹λ‹¤. μ΄λ” @ErrorHandlerλ¥Ό μ‚¬μ©ν•μ—¬ μ‚¬μ©μ μ •μ μ¤λ¥ μ²λ¦¬ λ΅μ§μ„ μ μ©ν•  λ©”μ„λ“λ¥Ό μ§€μ •ν•  μ μμ§€λ§, ν΄λμ¤, ν•„λ“ λλ” λ‹¤λ¥Έ μ”μ†μ—λ” μ μ©ν•  μ μ—†λ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.

μ΄μ  ErrorHandler μ• μ¤ν™νΈλ¥Ό μ •μν•΄λ΄…μ‹λ‹¤.

<div class="content-ad"></div>

```java
package com.maheshbabu11.spring_custom_annotations.service;

import com.maheshbabu11.spring_custom_annotations.annotations.ErrorHandler;
import org.springframework.stereotype.Service;

@Service
public class MyService {

    @ErrorHandler
    public void myMethod() {
        // Method logic that may throw an exception
        throw new RuntimeException("An error occurred!");
    }
}
``` 

μ΄μ  μ΄ μ£Όμ„μ„ ν•„μ”ν• λ©”μ„λ“μ— μ¶”κ°€ν•κ³  μ–΄λ–»κ² μ‘λ™ν•λ”μ§€ ν™•μΈν•΄ λ΄…μ‹λ‹¤.

# λ‹¨κ³„ 3: ν•„μ”ν• λ©”μ„λ“μ— μ‚¬μ©μ μ§€μ • μ£Όμ„ μ¶”κ°€ν•κΈ°.

<div class="content-ad"></div>

μ°λ¦¬μ λ©”μ†λ“μ— μ‚¬μ©μ μ •μ μ£Όμ„μ„ μ¶”κ°€ν•κ³  ν•΄λ‹Ή λ©”μ†λ“μ—μ„ μμ™Έκ°€ λ°μƒν•  λ• μ–΄λ–¤ μΌμ΄ λ°μƒν•λ”μ§€ ν™•μΈν•΄ λ΄…μ‹λ‹¤.

```js
   @ErrorHandler
    public void testExceptionLogging() {

        //μμ™Έ λ°μƒ μ‹λ®¬λ μ΄μ…
        if (true) {
            throw new RuntimeException("μμ™Έκ°€ λ°μƒν–μµλ‹λ‹¤");
        }
    }
```

λ©”μ†λ“κ°€ νΈμ¶λμλ§μ μƒλ΅μ΄ λ°νƒ€μ„ μμ™Έκ°€ λ°μƒν•μ—¬ ErrorHandlerAspectμ @AfterThrowing μ–΄λ“λ°”μ΄μ¤κ°€ νΈλ¦¬κ±°λ©λ‹λ‹¤. μ΄λ΅μ¨ μ½μ†”μ— μμ™Έ λ©”μ‹μ§€κ°€ μ¶λ ¥λκ³  μ¤λ¥ λ΅κ·Έ ν…μ΄λΈ”μ— μ¤λ¥κ°€ λ΅κΉ…λ©λ‹λ‹¤.

<img src="/assets/img/2024-08-21-HowtoCreateCustomAnnotationsinSpringBootforCleanerCode_1.png" />

<div class="content-ad"></div>

ν•΄λ‹Ή κΈ°μ‚¬μ—μ„ μ‚¬μ©λ μ™„μ „ν• μ†μ¤ μ½”λ“λ” λ‹¤μμ—μ„ ν™•μΈν•  μ μμµλ‹λ‹¤:

λμΌλ΅, Spring Bootμ—μ„ μ‚¬μ©ν•λ” μ‚¬μ©μ μ •μ μ–΄λ…Έν…μ΄μ…μΈ @ErrorHandler μ–΄λ…Έν…μ΄μ…κ³Ό κ°™μ€ μ–΄λ…Έν…μ΄μ…μ€ λ°λ³µμ μΈ μ‘μ—…μ„ μλ™ν™”ν•κ³  μ½”λ“ μ μ§€ κ΄€λ¦¬λ¥Ό ν–¥μƒμ‹ν‚¤λ” κ°•λ ¥ν• λ©”μ»¤λ‹μ¦μ„ μ κ³µν•©λ‹λ‹¤. Spring AOPλ¥Ό ν™μ©ν•μ—¬ μ¤λ¥ μ²λ¦¬μ™€ λ΅κΉ…μ„ μµμ ν™”ν•¨μΌλ΅μ¨, μμ™Έκ°€ μΌκ΄€λκ² κΈ°λ΅λκ³  κ΄€λ¦¬λλ„λ΅ λ³΄μ¥ν•λ©° λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ°λ³µμ μΈ try-catch λΈ”λ΅μΌλ΅ λ‚μ΅ν•΄μ§€μ§€ μ•λ„λ΅ ν•©λ‹λ‹¤. μ΄ μ ‘κ·Ό λ°©μ‹μ€ μ½”λ“λ¥Ό λ‹¨μν™”λΏλ§ μ•„λ‹λΌ μ¤λ¥ μ²λ¦¬λ¥Ό μ¤‘μ•™ μ§‘μ¤‘ν™”ν•μ—¬ μ—…λ°μ΄νΈ λ° μ μ§€ κ΄€λ¦¬λ¥Ό λ³΄λ‹¤ μ‰½κ² ν•  μ μλ„λ΅ν•©λ‹λ‹¤. μ‚¬μ©μ μ •μ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄, μ‘μ© ν”„λ΅κ·Έλ¨μ ν•µμ‹¬ κΈ°λ¥μ— μ§‘μ¤‘ν•  μ μμΌλ©° μ¤λ¥ λ΅κΉ…κ³Ό κ°™μ€ κµμ°¨ κ΄€μ‹¬ μ‚¬ν•­μ„ μ²λ¦¬ν•κΈ° μ„ν•΄ κ²¬κ³ ν•κ³  μλ™ν™”λ λ§¤μ»¤λ‹μ¦μ— μμ΅΄ν•  μ μμµλ‹λ‹¤.

μ½”λ”© μ¦κΈ°κΈ° π!!! μ½μ–΄ μ£Όμ…”μ„ μ¦κ±°μ°μ…¨λ‹¤λ©΄ π‘μ„ λ‚¨κ²¨μ£Όμ„Έμ”.