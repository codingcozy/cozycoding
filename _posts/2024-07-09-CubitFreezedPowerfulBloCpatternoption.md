---
title: "Cubit  Freezed ê°•ë ¥í•œ BloC íŒ¨í„´ ì˜µì…˜"
description: ""
coverImage: "/assets/img/2024-07-09-CubitFreezedPowerfulBloCpatternoption_0.png"
date: 2024-07-09 22:18
ogImage: 
  url: /assets/img/2024-07-09-CubitFreezedPowerfulBloCpatternoption_0.png
tag: Tech
originalTitle: "Cubit + Freezed: Powerful BloC pattern optionğŸ§Š"
link: "https://medium.com/@caio.dev29/cubit-freezed-powerful-bloc-pattern-option-98e4f047b00c"
isUpdated: true
---




í”ŒëŸ¬í„° ìƒíƒœê³„ì—ì„œëŠ” ë‹¤ì–‘í•œ ì»¨í…ìŠ¤íŠ¸ ê°„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì´ ë§ì´ ìˆì–´ìš”. ì´ì— ë§ê²Œ Cubitê³¼ Freezedë¥¼ ê²°í•©í•˜ì—¬ ìƒˆë¡œìš´ ì ‘ê·¼ë²•ì„ ì†Œê°œí•´ ë“œë¦¬ë ¤ê³  í•´ìš”. ì´ ë°©ë²•ì€ ì½”ë”©ê³¼ ì½”ë“œ ìƒì„±ì„ í–¥ìƒì‹œì¼œ ìƒì‚°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆì–´ìš”!

í•˜ì§€ë§Œ ë¨¼ì €, ê³„ì†í•˜ê¸° ì „ì— ëª‡ ê°€ì§€ ì¤‘ìš”í•œ ì‚¬í•­ì„ ë¨¼ì € ì•Œì•„ë³´ë„ë¡ í• ê²Œìš” :D

# BloC (Business Logic Component)

![Image](/assets/img/2024-07-09-CubitFreezedPowerfulBloCpatternoption_0.png)

<div class="content-ad"></div>

BLoCì€ Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” êµ¬ì¡°ì ì¸ íŒ¨í„´ì…ë‹ˆë‹¤. ì´ëŠ” ì±…ì„ì˜ ë¶„ë¦¬ë¥¼ ì´‰ì§„í•˜ì—¬ ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê³  ëª¨ë“ˆí™”í•˜ê¸° ì‰½ê²Œ í•©ë‹ˆë‹¤.

# Cubit: BLoCì„ ê°„ë‹¨í•˜ê²Œ

![ì´ë¯¸ì§€](/assets/img/2024-07-09-CubitFreezedPowerfulBloCpatternoption_1.png)

Cubitì€ BLoCë³´ë‹¤ ê°„ë‹¨í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. BLoCê°€ ì´ë²¤íŠ¸-ìƒíƒœ íŒ¨í„´ì„ ë”°ë¥¸ë‹¤ë©´, Cubitì€ ì´ë¥¼ ê°„ì†Œí™”í•˜ì—¬ ì´ë²¤íŠ¸ ì—†ì´ ì§ì ‘ ìƒíƒœ ë³€ê²½ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<div class="content-ad"></div>

# Freezed

FreezedëŠ” ë¶ˆë³€ í´ë˜ìŠ¤ ë° Dartì˜ ë‹¤ë¥¸ ì¼ë°˜ì ì¸ íŒ¨í„´, ì˜ˆë¥¼ ë“¤ì–´ ì¡°í•© ìœ í˜• ìƒì„±ì— ë„ì›€ì„ ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

Freezedì˜ ì£¼ìš” ì¥ì  ì¤‘ í•˜ë‚˜ëŠ” Cubitì—ì„œ Equatable íŒ¨í‚¤ì§€ê°€ í•„ìš”í•˜ì§€ ì•Šê²Œí•˜ê³  ìë™ìœ¼ë¡œ í´ë˜ìŠ¤ì˜ `==` ë° `hashCode` ë©”ì„œë“œë¥¼ ìƒì„±í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

# ì´ ê°•ë ¥í•œ ì¡°í•©ì„ í™œìš©í•˜ëŠ” ë°©ë²•:

<div class="content-ad"></div>

ë¨¼ì €, ì´ ê°œë°œì—ì„œ ì‚¬ìš©í•  ì¢…ì† í•­ëª©ì„ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.

```js
name: your_app_name
description: ì•± ì„¤ëª…

publish_to: 'none' 

version: 1.0.0+1

environment:
  sdk: '>=3.1.5 <4.0.0'

dependencies:
  flutter:
    sdk: flutter

  #HERE
  json_annotation: ^4.8.1
  freezed_annotation: ^2.4.1

dev_dependencies:
  flutter_test:
    sdk: flutter

  #HERE
  freezed: ^2.4.6
  build_runner: ^2.3.3

flutter:

  uses-material-design: true

  assets:
   - assets/
```

ì´ì œ Cubitê³¼ Freezedë¥¼ ê²°í•©í•˜ì—¬ ìƒíƒœë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì œí’ˆ ë¡œë”© ì‹œë®¬ë ˆì´ì…˜ì„ í•  ê²ƒì´ì§€ë§Œ, ì—¬ëŸ¬ë¶„ì˜ ìƒí™©ì— ë§ê²Œ ì ì‘í•´ ì£¼ì„¸ìš”).

```js
import 'package:your_app/data/products/products.dart';
import 'package:freezed_annotation/freezed_annotation.dart';

part 'products_state.freezed.dart';

@freezed
class ProductsState with _$ProductsState {
  const factory ProductsState.initial() = InitialProductsState;

  const factory ProductsState.loading() = LoadingProductsState;

  const factory ProductsState.error({required Object exception, required StackTrace stackTrace}) = ErrorProductsState;

  const factory ProductsState.success(List<Product>? products) = SuccessProductsState;

}
```

<div class="content-ad"></div>

ë¨¼ì € Freezedê°€ ìƒì„±í•  íŒŒì¼ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ìš°ë¦¬ ê²½ìš°ì—ëŠ” `products_state.freezed.dart`ê°€ ë  ê²ƒì…ë‹ˆë‹¤.

`@freezed` ì£¼ì„ì„ ì‚¬ìš©í•˜ì—¬ Freezedì—ê²Œ `ProductsState` í´ë˜ìŠ¤ì˜ ì½”ë“œë¥¼ ìƒì„±í•˜ë„ë¡ ì§€ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.

ì²˜ìŒì— ì½”ë“œì—ì„œ ì—¬ëŸ¬ ì˜¤ë¥˜ê°€ ë³´ì¸ë‹¤ í•´ë„ ê±±ì •í•˜ì§€ ë§ˆì„¸ìš”. `ProductsState` í´ë˜ìŠ¤ì— ì •ì˜ëœ íŒ©í† ë¦¬ë“¤ì„ ìƒì„±í•˜ê¸° ìœ„í•´ `build_runner`ì„ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Freezedì— ì˜í•´ ì£¼ì„ì´ ë‹¬ë¦° ì½”ë“œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:

```js
flutter pub run build_runner build
```

<div class="content-ad"></div>

ì•Œì•˜ì–´ìš”! ë§ˆë²•ì´ ì‘ë™í•´ì„œ ì´ì œ ìƒíƒœ íŒŒì¼ê³¼ í•¨ê»˜ ìƒˆë¡œìš´ `.freezed` íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆì–´ìš”:

![ì´ë¯¸ì§€](/assets/img/2024-07-09-CubitFreezedPowerfulBloCpatternoption_2.png)

ì´ì œ ìƒì„±ëœ ìƒíƒœì— ê¸°ë°˜í•œ Cubitì„ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”.

ì—¬ê¸° ì˜ˆì‹œ ì½”ë“œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”:

```js
import 'dart:developer';

import 'package:dio/dio.dart';
import 'package:your_app/cubits/products_cubit/products_state.dart';
import 'package:your_app/data/products/products.dart';
import 'package:your_app/data/repositories/all_products/products_repository.dart';
import 'package:flutter_bloc/flutter_bloc.dart';

class ProductsCubit extends Cubit<ProductsState> {
  ProductsCubit(this.repo) : super(const ProductsState.initial());

  final ProductsRepository repo;

  Future<void> getAllProducts() async {
    emit(const ProductsState.loading());

    try {
      final products = await repo.getAllProducts();

      emit(ProductsState.success(products));
    } catch (e, s) {
      emit(ProductsState.error(exception: e, stackTrace: s));
    }
  }
}
```

<div class="content-ad"></div>

UIì—ì„œ Cubitì´ë¼ê³  ë¶ˆë¦¬ëŠ” ê²ƒì„ ë³€ê²½í•˜ê² ìŠµë‹ˆë‹¤:

```js
class ProductsPage extends StatefulWidget {
  @override
  _ProductsPageState createState() => _ProductsPageState();
}

class _ProductsPageState extends State<ProductsPage> {
  late ProductsCubit _productsCubit;

  @override
  void initState() {
    super.initState();
    _productsCubit = context.read<ProductsCubit>();
    _productsCubit.getAllProducts();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Products'),
      ),
      body: Column(
        children: [
          ElevatedButton(
            onPressed: () => _productsCubit.getAllProducts(),
            child: Text('Load Products'),
          ),
          Expanded(
            child: BlocBuilder<ProductsCubit, ProductsState>(
              builder: (context, state) {
                return state.when(
                  initial: () => Center(child: Text('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ë ¤ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”')),
                  loading: () => Center(child: CircularProgressIndicator()),
                  error: (exception, stackTrace) => Center(child: Text('ì œí’ˆ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: $exception')),
                  success: (products) {
                    return ListView.builder(
                      itemCount: products.length,
                      itemBuilder: (context, index) {
                        final product = products[index];
                        return ListTile(
                          leading: Image.network(product.image),
                          title: Text(product.title),
                          subtitle: Text('\$${product.price}'),
                        );
                      },
                    );
                  },
                );
              },
            ),
          ),
        ],
      ),
    );
  }
}
```

ì—¬ê¸°ì— ì´ ê°•ë ¥í•œ ì¡°í•©ì„ í™œìš©í•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œê°€ ìˆìŠµë‹ˆë‹¤. íŠ¹ì • ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ ì¡°ì •í•˜ê³  ìµœì„ ì˜ ë°©ë²•ì„ ì¤€ìˆ˜í•˜ë„ë¡ ì£¼ì˜í•˜ì„¸ìš”.

ê³ ë§ˆì›Œìš”, ì¢‹ì€ ì½”ë“œë¡œ! ğŸ˜ğŸ¤œğŸ¤›